(function(A,d){typeof exports=="object"&&typeof module<"u"?d(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],d):(A=typeof globalThis<"u"?globalThis:A||self,d(A["Frappe React"]={},A.React))})(this,function(A,d){"use strict";var Sa=Object.defineProperty;var Ra=(A,d,Fe)=>d in A?Sa(A,d,{enumerable:!0,configurable:!0,writable:!0,value:Fe}):A[d]=Fe;var Ne=(A,d,Fe)=>(Ra(A,typeof d!="symbol"?d+"":d,Fe),Fe);const Pe=(n=>n&&typeof n=="object"&&"default"in n?n:{default:n})(d);var B=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ut={},ze={},Ke={},ft=B&&B.__assign||function(){return ft=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},ft.apply(this,arguments)},ht=B&&B.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(h){try{a(r.next(h))}catch(l){o(l)}}function f(h){try{a(r.throw(h))}catch(l){o(l)}}function a(h){h.done?i(h.value):s(h.value).then(c,f)}a((r=r.apply(n,e||[])).next())})},dt=B&&B.__generator||function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(a){return function(h){return f([a,h])}}function f(a){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,s&&(i=a[0]&2?s.return:a[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,a[1])).done)return i;switch(s=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return t.label++,{value:a[1],done:!1};case 5:t.label++,s=a[1],a=[0];continue;case 7:a=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){t=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){t.label=a[1];break}if(a[0]===6&&t.label<i[1]){t.label=i[1],i=a;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(a);break}i[2]&&t.ops.pop(),t.trys.pop();continue}a=e.call(n,t)}catch(h){a=[6,h],s=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.FrappeCall=void 0;var ws=function(){function n(e,t,r,s,i){this.appURL=e,this.axios=t,this.useToken=r!=null?r:!1,this.token=s,this.tokenType=i}return n.prototype.get=function(e,t){return ht(this,void 0,void 0,function(){return dt(this,function(r){return[2,this.axios.get("/api/method/".concat(e),{params:t}).then(function(s){return s.data}).catch(function(s){var i,o;throw{httpStatus:s.response.status,httpStatusText:s.response.statusText,message:(i=s.response.data.message)!==null&&i!==void 0?i:"There was an error.",exception:(o=s.response.data.exception)!==null&&o!==void 0?o:""}})]})})},n.prototype.post=function(e,t){return ht(this,void 0,void 0,function(){return dt(this,function(r){return[2,this.axios.post("/api/method/".concat(e),ft({},t)).then(function(s){return s.data}).catch(function(s){var i,o;throw{httpStatus:s.response.status,httpStatusText:s.response.statusText,message:(i=s.response.data.message)!==null&&i!==void 0?i:"There was an error.",exception:(o=s.response.data.exception)!==null&&o!==void 0?o:""}})]})})},n.prototype.put=function(e,t){return ht(this,void 0,void 0,function(){return dt(this,function(r){return[2,this.axios.put("/api/method/".concat(e),ft({},t)).then(function(s){return s.data}).catch(function(s){var i,o;throw{httpStatus:s.response.status,httpStatusText:s.response.statusText,message:(i=s.response.data.message)!==null&&i!==void 0?i:"There was an error.",exception:(o=s.response.data.exception)!==null&&o!==void 0?o:""}})]})})},n.prototype.delete=function(e,t){return ht(this,void 0,void 0,function(){return dt(this,function(r){return[2,this.axios.delete("/api/method/".concat(e),{params:t}).then(function(s){return s.data}).catch(function(s){var i,o;throw{httpStatus:s.response.status,httpStatusText:s.response.statusText,message:(i=s.response.data.message)!==null&&i!==void 0?i:"There was an error.",exception:(o=s.response.data.exception)!==null&&o!==void 0?o:""}})]})})},n}();Ke.FrappeCall=ws;var Ge={},Ce=B&&B.__assign||function(){return Ce=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Ce.apply(this,arguments)},ke=B&&B.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(h){try{a(r.next(h))}catch(l){o(l)}}function f(h){try{a(r.throw(h))}catch(l){o(l)}}function a(h){h.done?i(h.value):s(h.value).then(c,f)}a((r=r.apply(n,e||[])).next())})},De=B&&B.__generator||function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(a){return function(h){return f([a,h])}}function f(a){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,s&&(i=a[0]&2?s.return:a[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,a[1])).done)return i;switch(s=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return t.label++,{value:a[1],done:!1};case 5:t.label++,s=a[1],a=[0];continue;case 7:a=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){t=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){t.label=a[1];break}if(a[0]===6&&t.label<i[1]){t.label=i[1],i=a;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(a);break}i[2]&&t.ops.pop(),t.trys.pop();continue}a=e.call(n,t)}catch(h){a=[6,h],s=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.FrappeDB=void 0;var Es=function(){function n(e,t,r,s,i){this.appURL=e,this.axios=t,this.useToken=r!=null?r:!1,this.token=s,this.tokenType=i}return n.prototype.getDoc=function(e,t){return ke(this,void 0,void 0,function(){return De(this,function(r){return[2,this.axios.get("/api/resource/".concat(e,"/").concat(t)).then(function(s){return s.data.data}).catch(function(s){var i,o;throw{httpStatus:s.response.status,httpStatusText:s.response.statusText,message:"There was an error while fetching the document.",exception:(o=(i=s.response.data.exception)!==null&&i!==void 0?i:s.response.data.exc_type)!==null&&o!==void 0?o:""}})]})})},n.prototype.getDocList=function(e,t){var r;return ke(this,void 0,void 0,function(){var s,i,o,c,f,a,h,l,m,v,w;return De(this,function(E){return s={},t&&(i=t.fields,o=t.filters,c=t.orFilters,f=t.orderBy,a=t.limit,h=t.limit_start,l=t.groupBy,m=t.asDict,v=m===void 0?!0:m,w=f?"".concat(f==null?void 0:f.field," ").concat((r=f==null?void 0:f.order)!==null&&r!==void 0?r:"asc"):"",s={fields:i?JSON.stringify(i):void 0,filters:o?JSON.stringify(o):void 0,or_filters:c?JSON.stringify(c):void 0,order_by:w,group_by:l,limit:a,limit_start:h,as_dict:v}),[2,this.axios.get("/api/resource/".concat(e),{params:s}).then(function(_){return _.data.data}).catch(function(_){var N,R;throw{httpStatus:_.response.status,httpStatusText:_.response.statusText,message:"There was an error while fetching the documents.",exception:(R=(N=_.response.data.exception)!==null&&N!==void 0?N:_.response.data.exc_type)!==null&&R!==void 0?R:""}})]})})},n.prototype.createDoc=function(e,t){return ke(this,void 0,void 0,function(){return De(this,function(r){return[2,this.axios.post("/api/resource/".concat(e),Ce({},t)).then(function(s){return s.data.data}).catch(function(s){var i,o,c;throw{httpStatus:s.response.status,httpStatusText:s.response.statusText,message:(i=s.response.data.message)!==null&&i!==void 0?i:"There was an error while creating the document.",exception:(c=(o=s.response.data.exception)!==null&&o!==void 0?o:s.response.data.exc_type)!==null&&c!==void 0?c:""}})]})})},n.prototype.updateDoc=function(e,t,r){return ke(this,void 0,void 0,function(){return De(this,function(s){return[2,this.axios.put("/api/resource/".concat(e,"/").concat(t),Ce({},r)).then(function(i){return i.data.data}).catch(function(i){var o,c,f;throw{httpStatus:i.response.status,httpStatusText:i.response.statusText,message:(o=i.response.data.message)!==null&&o!==void 0?o:"There was an error while updating the document.",exception:(f=(c=i.response.data.exception)!==null&&c!==void 0?c:i.response.data.exc_type)!==null&&f!==void 0?f:""}})]})})},n.prototype.deleteDoc=function(e,t){return ke(this,void 0,void 0,function(){return De(this,function(r){return[2,this.axios.delete("/api/resource/".concat(e,"/").concat(t)).then(function(s){return s.data}).catch(function(s){var i,o;throw{httpStatus:s.response.status,httpStatusText:s.response.statusText,message:"There was an error while deleting the document.",exception:(o=(i=s.response.data.exception)!==null&&i!==void 0?i:s.response.data.exc_type)!==null&&o!==void 0?o:""}})]})})},n.prototype.getCount=function(e,t,r,s){return r===void 0&&(r=!1),s===void 0&&(s=!1),ke(this,void 0,void 0,function(){var i;return De(this,function(o){return i={doctype:e,filters:[]},r&&(i.cache=r),s&&(i.debug=s),t&&(i.filters=t?JSON.stringify(t):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:i}).then(function(c){return c.data.message}).catch(function(c){var f,a;throw{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:"There was an error while getting the count.",exception:(a=(f=c.response.data.exception)!==null&&f!==void 0?f:c.response.data.exc_type)!==null&&a!==void 0?a:""}})]})})},n.prototype.getLastDoc=function(e,t){return ke(this,void 0,void 0,function(){var r,s;return De(this,function(i){switch(i.label){case 0:return r={orderBy:{field:"creation",order:"desc"}},t&&(r=Ce(Ce({},r),t)),[4,this.getDocList(e,Ce(Ce({},r),{limit:1}))];case 1:return s=i.sent(),s.length>0?[2,this.getDoc(e,s[0].name)]:[2,{}]}})})},n}();Ge.FrappeDB=Es;var Xe={},Ss=B&&B.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(h){try{a(r.next(h))}catch(l){o(l)}}function f(h){try{a(r.throw(h))}catch(l){o(l)}}function a(h){h.done?i(h.value):s(h.value).then(c,f)}a((r=r.apply(n,e||[])).next())})},Rs=B&&B.__generator||function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(a){return function(h){return f([a,h])}}function f(a){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,s&&(i=a[0]&2?s.return:a[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,a[1])).done)return i;switch(s=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return t.label++,{value:a[1],done:!1};case 5:t.label++,s=a[1],a=[0];continue;case 7:a=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){t=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){t.label=a[1];break}if(a[0]===6&&t.label<i[1]){t.label=i[1],i=a;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(a);break}i[2]&&t.ops.pop(),t.trys.pop();continue}a=e.call(n,t)}catch(h){a=[6,h],s=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.FrappeFileUpload=void 0;var Cs=function(){function n(e,t,r,s,i){this.appURL=e,this.axios=t,this.useToken=r!=null?r:!1,this.token=s,this.tokenType=i}return n.prototype.uploadFile=function(e,t,r){return Ss(this,void 0,void 0,function(){var s,i,o,c,f,a,h;return Rs(this,function(l){return s=new FormData,e&&s.append("file",e,e.name),i=t.isPrivate,o=t.folder,c=t.file_url,f=t.doctype,a=t.docname,h=t.fieldname,i&&s.append("is_private","1"),o&&s.append("folder",o),c&&s.append("file_url",c),f&&a&&(s.append("doctype",f),s.append("docname",a),h&&s.append("fieldname",h)),[2,this.axios.post("/api/method/upload_file",s,{onUploadProgress:function(m){r&&r(m.loaded,m.total)}}).catch(function(m){var v,w;throw{httpStatus:m.response.status,httpStatusText:m.response.statusText,message:(v=m.response.data.message)!==null&&v!==void 0?v:"There was an error while uploading the file.",exception:(w=m.response.data.exception)!==null&&w!==void 0?w:""}})]})})},n}();Xe.FrappeFileUpload=Cs;var Be={},Pn={exports:{}},Vt={exports:{}},Bn=function(e,t){return function(){for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];return e.apply(t,s)}},Ts=Bn,Te=Object.prototype.toString;function jt(n){return Array.isArray(n)}function Mt(n){return typeof n>"u"}function Os(n){return n!==null&&!Mt(n)&&n.constructor!==null&&!Mt(n.constructor)&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function In(n){return Te.call(n)==="[object ArrayBuffer]"}function xs(n){return Te.call(n)==="[object FormData]"}function As(n){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&In(n.buffer),e}function ks(n){return typeof n=="string"}function Ds(n){return typeof n=="number"}function Un(n){return n!==null&&typeof n=="object"}function pt(n){if(Te.call(n)!=="[object Object]")return!1;var e=Object.getPrototypeOf(n);return e===null||e===Object.prototype}function Ls(n){return Te.call(n)==="[object Date]"}function Ns(n){return Te.call(n)==="[object File]"}function Fs(n){return Te.call(n)==="[object Blob]"}function Vn(n){return Te.call(n)==="[object Function]"}function Ps(n){return Un(n)&&Vn(n.pipe)}function Bs(n){return Te.call(n)==="[object URLSearchParams]"}function Is(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function Us(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Wt(n,e){if(!(n===null||typeof n>"u"))if(typeof n!="object"&&(n=[n]),jt(n))for(var t=0,r=n.length;t<r;t++)e.call(null,n[t],t,n);else for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.call(null,n[s],s,n)}function qt(){var n={};function e(s,i){pt(n[i])&&pt(s)?n[i]=qt(n[i],s):pt(s)?n[i]=qt({},s):jt(s)?n[i]=s.slice():n[i]=s}for(var t=0,r=arguments.length;t<r;t++)Wt(arguments[t],e);return n}function Vs(n,e,t){return Wt(e,function(s,i){t&&typeof s=="function"?n[i]=Ts(s,t):n[i]=s}),n}function js(n){return n.charCodeAt(0)===65279&&(n=n.slice(1)),n}var ne={isArray:jt,isArrayBuffer:In,isBuffer:Os,isFormData:xs,isArrayBufferView:As,isString:ks,isNumber:Ds,isObject:Un,isPlainObject:pt,isUndefined:Mt,isDate:Ls,isFile:Ns,isBlob:Fs,isFunction:Vn,isStream:Ps,isURLSearchParams:Bs,isStandardBrowserEnv:Us,forEach:Wt,merge:qt,extend:Vs,trim:Is,stripBOM:js},Ie=ne;function jn(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Mn=function(e,t,r){if(!t)return e;var s;if(r)s=r(t);else if(Ie.isURLSearchParams(t))s=t.toString();else{var i=[];Ie.forEach(t,function(f,a){f===null||typeof f>"u"||(Ie.isArray(f)?a=a+"[]":f=[f],Ie.forEach(f,function(l){Ie.isDate(l)?l=l.toISOString():Ie.isObject(l)&&(l=JSON.stringify(l)),i.push(jn(a)+"="+jn(l))}))}),s=i.join("&")}if(s){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e},Ms=ne;function vt(){this.handlers=[]}vt.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1},vt.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},vt.prototype.forEach=function(e){Ms.forEach(this.handlers,function(r){r!==null&&e(r)})};var Ws=vt,qs=ne,Hs=function(e,t){qs.forEach(e,function(s,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=s,delete e[i])})},Wn=function(e,t,r,s,i){return e.config=t,r&&(e.code=r),e.request=s,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},qn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ht,Hn;function Yn(){if(Hn)return Ht;Hn=1;var n=Wn;return Ht=function(t,r,s,i,o){var c=new Error(t);return n(c,r,s,i,o)},Ht}var Yt,Jn;function Ys(){if(Jn)return Yt;Jn=1;var n=Yn();return Yt=function(t,r,s){var i=s.config.validateStatus;!s.status||!i||i(s.status)?t(s):r(n("Request failed with status code "+s.status,s.config,null,s.request,s))},Yt}var Jt,zn;function Js(){if(zn)return Jt;zn=1;var n=ne;return Jt=n.isStandardBrowserEnv()?function(){return{write:function(r,s,i,o,c,f){var a=[];a.push(r+"="+encodeURIComponent(s)),n.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(c)&&a.push("domain="+c),f===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(r){var s=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Jt}var zt,Kn;function zs(){return Kn||(Kn=1,zt=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),zt}var Kt,Gn;function Ks(){return Gn||(Gn=1,Kt=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}),Kt}var Gt,Xn;function Gs(){if(Xn)return Gt;Xn=1;var n=zs(),e=Ks();return Gt=function(r,s){return r&&!n(s)?e(r,s):s},Gt}var Xt,Qn;function Xs(){if(Qn)return Xt;Qn=1;var n=ne,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Xt=function(r){var s={},i,o,c;return r&&n.forEach(r.split(`
`),function(a){if(c=a.indexOf(":"),i=n.trim(a.substr(0,c)).toLowerCase(),o=n.trim(a.substr(c+1)),i){if(s[i]&&e.indexOf(i)>=0)return;i==="set-cookie"?s[i]=(s[i]?s[i]:[]).concat([o]):s[i]=s[i]?s[i]+", "+o:o}}),s},Xt}var Qt,Zn;function Qs(){if(Zn)return Qt;Zn=1;var n=ne;return Qt=n.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),s;function i(o){var c=o;return t&&(r.setAttribute("href",c),c=r.href),r.setAttribute("href",c),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return s=i(window.location.href),function(c){var f=n.isString(c)?i(c):c;return f.protocol===s.protocol&&f.host===s.host}}():function(){return function(){return!0}}(),Qt}var Zt,$n;function mt(){if($n)return Zt;$n=1;function n(e){this.message=e}return n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,Zt=n,Zt}var $t,er;function tr(){if(er)return $t;er=1;var n=ne,e=Ys(),t=Js(),r=Mn,s=Gs(),i=Xs(),o=Qs(),c=Yn(),f=qn,a=mt();return $t=function(l){return new Promise(function(v,w){var E=l.data,_=l.headers,N=l.responseType,R;function D(){l.cancelToken&&l.cancelToken.unsubscribe(R),l.signal&&l.signal.removeEventListener("abort",R)}n.isFormData(E)&&delete _["Content-Type"];var y=new XMLHttpRequest;if(l.auth){var W=l.auth.username||"",S=l.auth.password?unescape(encodeURIComponent(l.auth.password)):"";_.Authorization="Basic "+btoa(W+":"+S)}var C=s(l.baseURL,l.url);y.open(l.method.toUpperCase(),r(C,l.params,l.paramsSerializer),!0),y.timeout=l.timeout;function Q(){if(!!y){var I="getAllResponseHeaders"in y?i(y.getAllResponseHeaders()):null,re=!N||N==="text"||N==="json"?y.responseText:y.response,Z={data:re,status:y.status,statusText:y.statusText,headers:I,config:l,request:y};e(function($){v($),D()},function($){w($),D()},Z),y=null}}if("onloadend"in y?y.onloadend=Q:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(Q)},y.onabort=function(){!y||(w(c("Request aborted",l,"ECONNABORTED",y)),y=null)},y.onerror=function(){w(c("Network Error",l,null,y)),y=null},y.ontimeout=function(){var re=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",Z=l.transitional||f;l.timeoutErrorMessage&&(re=l.timeoutErrorMessage),w(c(re,l,Z.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},n.isStandardBrowserEnv()){var F=(l.withCredentials||o(C))&&l.xsrfCookieName?t.read(l.xsrfCookieName):void 0;F&&(_[l.xsrfHeaderName]=F)}"setRequestHeader"in y&&n.forEach(_,function(re,Z){typeof E>"u"&&Z.toLowerCase()==="content-type"?delete _[Z]:y.setRequestHeader(Z,re)}),n.isUndefined(l.withCredentials)||(y.withCredentials=!!l.withCredentials),N&&N!=="json"&&(y.responseType=l.responseType),typeof l.onDownloadProgress=="function"&&y.addEventListener("progress",l.onDownloadProgress),typeof l.onUploadProgress=="function"&&y.upload&&y.upload.addEventListener("progress",l.onUploadProgress),(l.cancelToken||l.signal)&&(R=function(I){!y||(w(!I||I&&I.type?new a("canceled"):I),y.abort(),y=null)},l.cancelToken&&l.cancelToken.subscribe(R),l.signal&&(l.signal.aborted?R():l.signal.addEventListener("abort",R))),E||(E=null),y.send(E)})},$t}var G=ne,nr=Hs,Zs=Wn,$s=qn,ei={"Content-Type":"application/x-www-form-urlencoded"};function rr(n,e){!G.isUndefined(n)&&G.isUndefined(n["Content-Type"])&&(n["Content-Type"]=e)}function ti(){var n;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(n=tr()),n}function ni(n,e,t){if(G.isString(n))try{return(e||JSON.parse)(n),G.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}var yt={transitional:$s,adapter:ti(),transformRequest:[function(e,t){return nr(t,"Accept"),nr(t,"Content-Type"),G.isFormData(e)||G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)?e:G.isArrayBufferView(e)?e.buffer:G.isURLSearchParams(e)?(rr(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):G.isObject(e)||t&&t["Content-Type"]==="application/json"?(rr(t,"application/json"),ni(e)):e}],transformResponse:[function(e){var t=this.transitional||yt.transitional,r=t&&t.silentJSONParsing,s=t&&t.forcedJSONParsing,i=!r&&this.responseType==="json";if(i||s&&G.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(i)throw o.name==="SyntaxError"?Zs(o,this,"E_JSON_PARSE"):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};G.forEach(["delete","get","head"],function(e){yt.headers[e]={}}),G.forEach(["post","put","patch"],function(e){yt.headers[e]=G.merge(ei)});var en=yt,ri=ne,si=en,ii=function(e,t,r){var s=this||si;return ri.forEach(r,function(o){e=o.call(s,e,t)}),e},tn,sr;function ir(){return sr||(sr=1,tn=function(e){return!!(e&&e.__CANCEL__)}),tn}var or=ne,nn=ii,oi=ir(),ai=en,ui=mt();function rn(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ui("canceled")}var ci=function(e){rn(e),e.headers=e.headers||{},e.data=nn.call(e,e.data,e.headers,e.transformRequest),e.headers=or.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),or.forEach(["delete","get","head","post","put","patch","common"],function(s){delete e.headers[s]});var t=e.adapter||ai.adapter;return t(e).then(function(s){return rn(e),s.data=nn.call(e,s.data,s.headers,e.transformResponse),s},function(s){return oi(s)||(rn(e),s&&s.response&&(s.response.data=nn.call(e,s.response.data,s.response.headers,e.transformResponse))),Promise.reject(s)})},oe=ne,ar=function(e,t){t=t||{};var r={};function s(h,l){return oe.isPlainObject(h)&&oe.isPlainObject(l)?oe.merge(h,l):oe.isPlainObject(l)?oe.merge({},l):oe.isArray(l)?l.slice():l}function i(h){if(oe.isUndefined(t[h])){if(!oe.isUndefined(e[h]))return s(void 0,e[h])}else return s(e[h],t[h])}function o(h){if(!oe.isUndefined(t[h]))return s(void 0,t[h])}function c(h){if(oe.isUndefined(t[h])){if(!oe.isUndefined(e[h]))return s(void 0,e[h])}else return s(void 0,t[h])}function f(h){if(h in t)return s(e[h],t[h]);if(h in e)return s(void 0,e[h])}var a={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:f};return oe.forEach(Object.keys(e).concat(Object.keys(t)),function(l){var m=a[l]||i,v=m(l);oe.isUndefined(v)&&m!==f||(r[l]=v)}),r},sn,ur;function cr(){return ur||(ur=1,sn={version:"0.26.1"}),sn}var li=cr().version,on={};["object","boolean","number","function","string","symbol"].forEach(function(n,e){on[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});var lr={};on.transitional=function(e,t,r){function s(i,o){return"[Axios v"+li+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return function(i,o,c){if(e===!1)throw new Error(s(o," has been removed"+(t?" in "+t:"")));return t&&!lr[o]&&(lr[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,c):!0}};function fi(n,e,t){if(typeof n!="object")throw new TypeError("options must be an object");for(var r=Object.keys(n),s=r.length;s-- >0;){var i=r[s],o=e[i];if(o){var c=n[i],f=c===void 0||o(c,i,n);if(f!==!0)throw new TypeError("option "+i+" must be "+f);continue}if(t!==!0)throw Error("Unknown option "+i)}}var hi={assertOptions:fi,validators:on},fr=ne,di=Mn,hr=Ws,dr=ci,gt=ar,pr=hi,Ue=pr.validators;function Qe(n){this.defaults=n,this.interceptors={request:new hr,response:new hr}}Qe.prototype.request=function(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=gt(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&pr.assertOptions(r,{silentJSONParsing:Ue.transitional(Ue.boolean),forcedJSONParsing:Ue.transitional(Ue.boolean),clarifyTimeoutError:Ue.transitional(Ue.boolean)},!1);var s=[],i=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(i=i&&v.synchronous,s.unshift(v.fulfilled,v.rejected))});var o=[];this.interceptors.response.forEach(function(v){o.push(v.fulfilled,v.rejected)});var c;if(!i){var f=[dr,void 0];for(Array.prototype.unshift.apply(f,s),f=f.concat(o),c=Promise.resolve(t);f.length;)c=c.then(f.shift(),f.shift());return c}for(var a=t;s.length;){var h=s.shift(),l=s.shift();try{a=h(a)}catch(m){l(m);break}}try{c=dr(a)}catch(m){return Promise.reject(m)}for(;o.length;)c=c.then(o.shift(),o.shift());return c},Qe.prototype.getUri=function(e){return e=gt(this.defaults,e),di(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},fr.forEach(["delete","get","head","options"],function(e){Qe.prototype[e]=function(t,r){return this.request(gt(r||{},{method:e,url:t,data:(r||{}).data}))}}),fr.forEach(["post","put","patch"],function(e){Qe.prototype[e]=function(t,r,s){return this.request(gt(s||{},{method:e,url:t,data:r}))}});var pi=Qe,an,vr;function vi(){if(vr)return an;vr=1;var n=mt();function e(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var s=this;this.promise.then(function(i){if(!!s._listeners){var o,c=s._listeners.length;for(o=0;o<c;o++)s._listeners[o](i);s._listeners=null}}),this.promise.then=function(i){var o,c=new Promise(function(f){s.subscribe(f),o=f}).then(i);return c.cancel=function(){s.unsubscribe(o)},c},t(function(o){s.reason||(s.reason=new n(o),r(s.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(!!this._listeners){var s=this._listeners.indexOf(r);s!==-1&&this._listeners.splice(s,1)}},e.source=function(){var r,s=new e(function(o){r=o});return{token:s,cancel:r}},an=e,an}var un,mr;function mi(){return mr||(mr=1,un=function(e){return function(r){return e.apply(null,r)}}),un}var cn,yr;function yi(){if(yr)return cn;yr=1;var n=ne;return cn=function(t){return n.isObject(t)&&t.isAxiosError===!0},cn}var gr=ne,gi=Bn,_t=pi,_i=ar,bi=en;function _r(n){var e=new _t(n),t=gi(_t.prototype.request,e);return gr.extend(t,_t.prototype,e),gr.extend(t,e),t.create=function(s){return _r(_i(n,s))},t}var pe=_r(bi);pe.Axios=_t,pe.Cancel=mt(),pe.CancelToken=vi(),pe.isCancel=ir(),pe.VERSION=cr().version,pe.all=function(e){return Promise.all(e)},pe.spread=mi(),pe.isAxiosError=yi(),Vt.exports=pe,Vt.exports.default=pe,function(n){n.exports=Vt.exports}(Pn),Object.defineProperty(Be,"__esModule",{value:!0}),Be.getRequestHeaders=Be.getAxiosClient=void 0;var wi=Pn.exports;function Ei(n,e,t,r){return wi.default.create({baseURL:n,headers:br(e,r,t),withCredentials:!0})}Be.getAxiosClient=Ei;function br(n,e,t){n===void 0&&(n=!1);var r={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return n&&e&&t&&(r.Authorization="".concat(e," ").concat(t())),typeof window<"u"&&typeof document<"u"&&(r["X-Frappe-Site-Name"]=window.location.hostname,window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(r["X-Frappe-CSRF-Token"]=window.csrf_token)),r}Be.getRequestHeaders=br;var wr;function Si(){if(wr)return ze;wr=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.FrappeApp=void 0;var n=Sr(),e=Ke,t=Ge,r=Xe,s=Be,i=function(){function o(c,f,a){var h,l;this.url=c,this.name=a!=null?a:"FrappeApp",this.useToken=(h=f==null?void 0:f.useToken)!==null&&h!==void 0?h:!1,this.token=f==null?void 0:f.token,this.tokenType=(l=f==null?void 0:f.type)!==null&&l!==void 0?l:"Bearer",this.axios=(0,s.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType)}return o.prototype.auth=function(){return new n.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},o.prototype.db=function(){return new t.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},o.prototype.file=function(){return new r.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType)},o.prototype.call=function(){return new e.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},o}();return ze.FrappeApp=i,ze}var bt={},wt=B&&B.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(h){try{a(r.next(h))}catch(l){o(l)}}function f(h){try{a(r.throw(h))}catch(l){o(l)}}function a(h){h.done?i(h.value):s(h.value).then(c,f)}a((r=r.apply(n,e||[])).next())})},Et=B&&B.__generator||function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(a){return function(h){return f([a,h])}}function f(a){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,s&&(i=a[0]&2?s.return:a[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,a[1])).done)return i;switch(s=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return t.label++,{value:a[1],done:!1};case 5:t.label++,s=a[1],a=[0];continue;case 7:a=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){t=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){t.label=a[1];break}if(a[0]===6&&t.label<i[1]){t.label=i[1],i=a;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(a);break}i[2]&&t.ops.pop(),t.trys.pop();continue}a=e.call(n,t)}catch(h){a=[6,h],s=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(bt,"__esModule",{value:!0}),bt.FrappeAuth=void 0;var Ri=function(){function n(e,t,r,s,i){this.appURL=e,this.axios=t,this.useToken=r!=null?r:!1,this.token=s,this.tokenType=i}return n.prototype.loginWithUsernamePassword=function(e){return wt(this,void 0,void 0,function(){var t,r,s;return Et(this,function(i){return t=e.username,r=e.password,s=e.device,[2,this.axios.post("/api/method/login",{usr:t,pwd:r,device:s}).then(function(o){return o.data}).catch(function(o){var c,f;throw{httpStatus:o.response.status,httpStatusText:o.response.statusText,message:(c=o.response.data.message)!==null&&c!==void 0?c:"There was an error while logging in",exception:(f=o.response.data.exception)!==null&&f!==void 0?f:""}})]})})},n.prototype.getLoggedInUser=function(){return wt(this,void 0,void 0,function(){return Et(this,function(e){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(t){return t.data.message}).catch(function(t){var r;throw{httpStatus:t.response.status,httpStatusText:t.response.statusText,message:"There was an error while fetching the logged in user",exception:(r=t.response.data.exception)!==null&&r!==void 0?r:""}})]})})},n.prototype.logout=function(){return wt(this,void 0,void 0,function(){return Et(this,function(e){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(t){var r,s;throw{httpStatus:t.response.status,httpStatusText:t.response.statusText,message:(r=t.response.data.message)!==null&&r!==void 0?r:"There was an error while logging out",exception:(s=t.response.data.exception)!==null&&s!==void 0?s:""}})]})})},n.prototype.forgetPassword=function(e){return wt(this,void 0,void 0,function(){return Et(this,function(t){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:e}).then(function(){}).catch(function(r){var s,i;throw{httpStatus:r.response.status,httpStatusText:r.response.statusText,message:(s=r.response.data.message)!==null&&s!==void 0?s:"There was an error sending password reset email.",exception:(i=r.response.data.exception)!==null&&i!==void 0?i:""}})]})})},n}();bt.FrappeAuth=Ri;var Er;function Sr(){return Er||(Er=1,function(n){var e=B&&B.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var c=Object.getOwnPropertyDescriptor(s,i);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,c)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=B&&B.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Si(),n),t(bt,n),t(Ge,n),t(Xe,n),t(Ke,n)}(Ut)),Ut}var Ci=Sr(),Rr={exports:{}},ln={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cr;function Ti(){if(Cr)return ln;Cr=1;var n=Pe.default;function e(l,m){return l===m&&(l!==0||1/l===1/m)||l!==l&&m!==m}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,i=n.useLayoutEffect,o=n.useDebugValue;function c(l,m){var v=m(),w=r({inst:{value:v,getSnapshot:m}}),E=w[0].inst,_=w[1];return i(function(){E.value=v,E.getSnapshot=m,f(E)&&_({inst:E})},[l,v,m]),s(function(){return f(E)&&_({inst:E}),l(function(){f(E)&&_({inst:E})})},[l]),o(v),v}function f(l){var m=l.getSnapshot;l=l.value;try{var v=m();return!t(l,v)}catch{return!0}}function a(l,m){return m()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?a:c;return ln.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:h,ln}var fn={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tr;function Oi(){return Tr||(Tr=1,process.env.NODE_ENV!=="production"&&function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var n=Pe.default,e=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function t(D){{for(var y=arguments.length,W=new Array(y>1?y-1:0),S=1;S<y;S++)W[S-1]=arguments[S];r("error",D,W)}}function r(D,y,W){{var S=e.ReactDebugCurrentFrame,C=S.getStackAddendum();C!==""&&(y+="%s",W=W.concat([C]));var Q=W.map(function(F){return String(F)});Q.unshift("Warning: "+y),Function.prototype.apply.call(console[D],console,Q)}}function s(D,y){return D===y&&(D!==0||1/D===1/y)||D!==D&&y!==y}var i=typeof Object.is=="function"?Object.is:s,o=n.useState,c=n.useEffect,f=n.useLayoutEffect,a=n.useDebugValue,h=!1,l=!1;function m(D,y,W){h||n.startTransition!==void 0&&(h=!0,t("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var S=y();if(!l){var C=y();i(S,C)||(t("The result of getSnapshot should be cached to avoid an infinite loop"),l=!0)}var Q=o({inst:{value:S,getSnapshot:y}}),F=Q[0].inst,I=Q[1];return f(function(){F.value=S,F.getSnapshot=y,v(F)&&I({inst:F})},[D,S,y]),c(function(){v(F)&&I({inst:F});var re=function(){v(F)&&I({inst:F})};return D(re)},[D]),a(S),S}function v(D){var y=D.getSnapshot,W=D.value;try{var S=y();return!i(W,S)}catch{return!0}}function w(D,y,W){return y()}var E=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_=!E,N=_?w:m,R=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:N;fn.useSyncExternalStore=R,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()),fn}(function(n){process.env.NODE_ENV==="production"?n.exports=Ti():n.exports=Oi()})(Rr);const ye=new WeakMap,hn={},St={},Oe=()=>{},le=Oe(),dn=Object,L=n=>n===le,ge=n=>typeof n=="function",xe=(n,e)=>({...n,...e}),pn="undefined",Rt=typeof window!=pn,vn=typeof document!=pn,xi=()=>Rt&&typeof window.requestAnimationFrame!=pn,Or=(n,e)=>{const t=ye.get(n);return[()=>!L(e)&&n.get(e)||hn,r=>{if(!L(e)){const s=n.get(e);e in St||(St[e]=s),t[5](e,xe(s,r),s||hn)}},t[6],()=>!L(e)&&e in St?St[e]:!L(e)&&n.get(e)||hn]},Ct=new WeakMap;let Ai=0;const Ze=n=>{const e=typeof n,t=n&&n.constructor,r=t==Date;let s,i;if(dn(n)===n&&!r&&t!=RegExp){if(s=Ct.get(n),s)return s;if(s=++Ai+"~",Ct.set(n,s),t==Array){for(s="@",i=0;i<n.length;i++)s+=Ze(n[i])+",";Ct.set(n,s)}if(t==dn){s="#";const o=dn.keys(n).sort();for(;!L(i=o.pop());)L(n[i])||(s+=i+":"+Ze(n[i])+",");Ct.set(n,s)}}else s=r?n.toJSON():e=="symbol"?n.toString():e=="string"?JSON.stringify(n):""+n;return s};let mn=!0;const ki=()=>mn,[yn,gn]=Rt&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Oe,Oe],Di=()=>{const n=vn&&document.visibilityState;return L(n)||n!=="hidden"},Li=n=>(vn&&document.addEventListener("visibilitychange",n),yn("focus",n),()=>{vn&&document.removeEventListener("visibilitychange",n),gn("focus",n)}),Ni=n=>{const e=()=>{mn=!0,n()},t=()=>{mn=!1};return yn("online",e),yn("offline",t),()=>{gn("online",e),gn("offline",t)}},Fi={isOnline:ki,isVisible:Di},Pi={initFocus:Li,initReconnect:Ni},xr=!Pe.default.useId,$e=!Rt||"Deno"in window,Bi=n=>xi()?window.requestAnimationFrame(n):setTimeout(n,1),_n=$e?d.useEffect:d.useLayoutEffect,bn=typeof navigator<"u"&&navigator.connection,Ar=!$e&&bn&&(["slow-2g","2g"].includes(bn.effectiveType)||bn.saveData),wn=n=>{if(ge(n))try{n=n()}catch{n=""}const e=n;return n=typeof n=="string"?n:(Array.isArray(n)?n.length:n)?Ze(n):"",[n,e]};let Ii=0;const En=()=>++Ii,kr=0,Dr=1,Lr=2;var et={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:kr,MUTATE_EVENT:Lr,RECONNECT_EVENT:Dr};async function Nr(...n){const[e,t,r,s]=n,i=xe({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let o=i.populateCache;const c=i.rollbackOnError;let f=i.optimisticData;const a=i.revalidate!==!1,h=v=>typeof c=="function"?c(v):c!==!1,l=i.throwOnError;if(ge(t)){const v=t,w=[],E=e.keys();for(let _=E.next();!_.done;_=E.next()){const N=_.value;!/^\$(inf|sub)\$/.test(N)&&v(e.get(N)._k)&&w.push(N)}return Promise.all(w.map(m))}return m(t);async function m(v){const[w]=wn(v);if(!w)return;const[E,_]=Or(e,w),[N,R,D]=ye.get(e),y=N[w],W=()=>a&&(delete D[w],y&&y[0])?y[0](Lr).then(()=>E().data):E().data;if(n.length<3)return W();let S=r,C;const Q=En();R[w]=[Q,0];const F=!L(f),I=E(),re=I.data,Z=I._c,V=L(Z)?re:Z;if(F&&(f=ge(f)?f(V):f,_({data:f,_c:V})),ge(S))try{S=S(V)}catch(ue){C=ue}if(S&&ge(S.then))if(S=await S.catch(ue=>{C=ue}),Q!==R[w][0]){if(C)throw C;return S}else C&&F&&h(C)&&(o=!0,S=V,_({data:S,_c:le}));o&&(C||(ge(o)&&(S=o(S,V)),_({data:S,_c:le}))),R[w][1]=En();const $=await W();if(_({_c:le}),C){if(l)throw C;return}return o?$:S}}const Fr=(n,e)=>{for(const t in n)n[t][0]&&n[t][0](e)},Ui=(n,e)=>{if(!ye.has(n)){const t=xe(Pi,e),r={},s=Nr.bind(le,n);let i=Oe;const o={},c=(h,l)=>{const m=o[h]||[];return o[h]=m,m.push(l),()=>m.splice(m.indexOf(l),1)},f=(h,l,m)=>{n.set(h,l);const v=o[h];if(v)for(const w of v)w(l,m)},a=()=>{if(!ye.has(n)&&(ye.set(n,[r,{},{},{},s,f,c]),!$e)){const h=t.initFocus(setTimeout.bind(le,Fr.bind(le,r,kr))),l=t.initReconnect(setTimeout.bind(le,Fr.bind(le,r,Dr)));i=()=>{h&&h(),l&&l(),ye.delete(n)}}};return a(),[n,s,a,i]}return[n,ye.get(n)[4]]},Vi=(n,e,t,r,s)=>{const i=t.errorRetryCount,o=s.retryCount,c=~~((Math.random()+.5)*(1<<(o<8?o:8)))*t.errorRetryInterval;!L(i)&&o>i||setTimeout(r,c,s)},ji=(n,e)=>Ze(n)==Ze(e),[Pr,Mi]=Ui(new Map),Wi=xe({onLoadingSlow:Oe,onSuccess:Oe,onError:Oe,onErrorRetry:Vi,onDiscarded:Oe,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Ar?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Ar?5e3:3e3,compare:ji,isPaused:()=>!1,cache:Pr,mutate:Mi,fallback:{}},Fi),qi=(n,e)=>{const t=xe(n,e);if(e){const{use:r,fallback:s}=n,{use:i,fallback:o}=e;r&&i&&(t.use=r.concat(i)),s&&o&&(t.fallback=xe(s,o))}return t},Hi=d.createContext({}),Br=Rt&&window.__SWR_DEVTOOLS_USE__,Yi=Br?window.__SWR_DEVTOOLS_USE__:[],Ji=()=>{Br&&(window.__SWR_DEVTOOLS_REACT__=Pe.default)},zi=n=>ge(n[1])?[n[0],n[1],n[2]||{}]:[n[0],null,(n[1]===null?n[2]:n[1])||{}],Ki=()=>xe(Wi,d.useContext(Hi)),Gi=n=>(e,t,r)=>n(e,t&&((...i)=>{const[o]=wn(e),[,,,c]=ye.get(Pr),f=c[o];return f?(delete c[o],f):t(...i)}),r),Xi=Yi.concat(Gi),Qi=n=>function(...t){const r=Ki(),[s,i,o]=zi(t),c=qi(r,o);let f=n;const{use:a}=c,h=(a||[]).concat(Xi);for(let l=h.length;l--;)f=h[l](f);return f(s,i||c.fetcher||null,c)},Zi=(n,e,t)=>{const r=e[n]||(e[n]=[]);return r.push(t),()=>{const s=r.indexOf(t);s>=0&&(r[s]=r[r.length-1],r.pop())}};Ji();const Sn={dedupe:!0},tt=Qi((n,e,t)=>{const{cache:r,compare:s,suspense:i,fallbackData:o,revalidateOnMount:c,revalidateIfStale:f,refreshInterval:a,refreshWhenHidden:h,refreshWhenOffline:l,keepPreviousData:m}=t,[v,w,E]=ye.get(r),[_,N]=wn(n),R=d.useRef(!1),D=d.useRef(!1),y=d.useRef(_),W=d.useRef(e),S=d.useRef(t),C=()=>S.current,Q=()=>C().isVisible()&&C().isOnline(),[F,I,re,Z]=Or(r,_),V=d.useRef({}).current,$=L(o)?t.fallback[_]:o,ue=(U,M)=>{for(const z in V){const j=z;if(j==="data"){if(!s(U[j],M[j])&&(!L(U[j])||!s(ct,M[j])))return!1}else if(M[j]!==U[j])return!1}return!0},ot=d.useMemo(()=>{const U=(()=>!_||!e?!1:L(c)?C().isPaused()||i?!1:L(f)?!0:f:c)(),M=K=>{const se=xe(K);return delete se._k,U?{isValidating:!0,isLoading:!0,...se}:se},z=F(),j=Z(),ee=M(z),he=z===j?ee:M(j);let Y=ee;return[()=>{const K=M(F());return ue(K,Y)?(Y.data=K.data,Y.isLoading=K.isLoading,Y.isValidating=K.isValidating,Y.error=K.error,Y):(Y=K,K)},()=>he]},[r,_]),_e=Rr.exports.useSyncExternalStore(d.useCallback(U=>re(_,(M,z)=>{ue(z,M)||U()}),[r,_]),ot[0],ot[1]),at=!R.current,Nt=v[_]&&v[_].length>0,be=_e.data,we=L(be)?$:be,Le=_e.error,ut=d.useRef(we),ct=m?L(be)?ut.current:be:we,Ft=(()=>Nt&&!L(Le)?!1:at&&!L(c)?c:C().isPaused()?!1:i?L(we)?!1:f:L(we)||f)(),je=!!(_&&e&&at&&Ft),lt=L(_e.isValidating)?je:_e.isValidating,Me=L(_e.isLoading)?je:_e.isLoading,Ee=d.useCallback(async U=>{const M=W.current;if(!_||!M||D.current||C().isPaused())return!1;let z,j,ee=!0;const he=U||{},Y=!E[_]||!he.dedupe,K=()=>xr?!D.current&&_===y.current&&R.current:_===y.current,se={isValidating:!1,isLoading:!1},Pt=()=>{I(se)},Bt=()=>{const ie=E[_];ie&&ie[1]===j&&delete E[_]},qe={isValidating:!0};L(F().data)&&(qe.isLoading=!0);try{if(Y&&(I(qe),t.loadingTimeout&&L(F().data)&&setTimeout(()=>{ee&&K()&&C().onLoadingSlow(_,t)},t.loadingTimeout),E[_]=[M(N),En()]),[z,j]=E[_],z=await z,Y&&setTimeout(Bt,t.dedupingInterval),!E[_]||E[_][1]!==j)return Y&&K()&&C().onDiscarded(_),!1;se.error=le;const ie=w[_];if(!L(ie)&&(j<=ie[0]||j<=ie[1]||ie[1]===0))return Pt(),Y&&K()&&C().onDiscarded(_),!1;const de=F().data;se.data=s(de,z)?de:z,Y&&K()&&C().onSuccess(z,_,t)}catch(ie){Bt();const de=C(),{shouldRetryOnError:He}=de;de.isPaused()||(se.error=ie,Y&&K()&&(de.onError(ie,_,de),(He===!0||ge(He)&&He(ie))&&Q()&&de.onErrorRetry(ie,_,de,It=>{const Se=v[_];Se&&Se[0]&&Se[0](et.ERROR_REVALIDATE_EVENT,It)},{retryCount:(he.retryCount||0)+1,dedupe:!0})))}return ee=!1,Pt(),!0},[_,r]),We=d.useCallback((...U)=>Nr(r,y.current,...U),[]);if(_n(()=>{W.current=e,S.current=t,L(be)||(ut.current=be)}),_n(()=>{if(!_)return;const U=Ee.bind(le,Sn);let M=0;const j=Zi(_,v,(ee,he={})=>{if(ee==et.FOCUS_EVENT){const Y=Date.now();C().revalidateOnFocus&&Y>M&&Q()&&(M=Y+C().focusThrottleInterval,U())}else if(ee==et.RECONNECT_EVENT)C().revalidateOnReconnect&&Q()&&U();else{if(ee==et.MUTATE_EVENT)return Ee();if(ee==et.ERROR_REVALIDATE_EVENT)return Ee(he)}});return D.current=!1,y.current=_,R.current=!0,I({_k:N}),Ft&&(L(we)||$e?U():Bi(U)),()=>{D.current=!0,j()}},[_]),_n(()=>{let U;function M(){const j=ge(a)?a(F().data):a;j&&U!==-1&&(U=setTimeout(z,j))}function z(){!F().error&&(h||C().isVisible())&&(l||C().isOnline())?Ee(Sn).then(M):M()}return M(),()=>{U&&(clearTimeout(U),U=-1)}},[a,h,l,_]),d.useDebugValue(ct),i&&L(we)&&_)throw!xr&&$e?new Error("Fallback data is required when using suspense in SSR."):(W.current=e,S.current=t,D.current=!1,L(Le)?Ee(Sn):Le);return{mutate:We,get data(){return V.data=!0,ct},get error(){return V.error=!0,Le},get isValidating(){return V.isValidating=!0,lt},get isLoading(){return V.isLoading=!0,Me}}}),ve=Object.create(null);ve.open="0",ve.close="1",ve.ping="2",ve.pong="3",ve.message="4",ve.upgrade="5",ve.noop="6";const Tt=Object.create(null);Object.keys(ve).forEach(n=>{Tt[ve[n]]=n});const $i={type:"error",data:"parser error"},eo=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",to=typeof ArrayBuffer=="function",no=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Ir=({type:n,data:e},t,r)=>eo&&e instanceof Blob?t?r(e):Ur(e,r):to&&(e instanceof ArrayBuffer||no(e))?t?r(e):Ur(new Blob([e]),r):r(ve[n]+(e||"")),Ur=(n,e)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)},Vr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<Vr.length;n++)nt[Vr.charCodeAt(n)]=n;const ro=n=>{let e=n.length*.75,t=n.length,r,s=0,i,o,c,f;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const a=new ArrayBuffer(e),h=new Uint8Array(a);for(r=0;r<t;r+=4)i=nt[n.charCodeAt(r)],o=nt[n.charCodeAt(r+1)],c=nt[n.charCodeAt(r+2)],f=nt[n.charCodeAt(r+3)],h[s++]=i<<2|o>>4,h[s++]=(o&15)<<4|c>>2,h[s++]=(c&3)<<6|f&63;return a},so=typeof ArrayBuffer=="function",jr=(n,e)=>{if(typeof n!="string")return{type:"message",data:Mr(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:io(n.substring(1),e)}:Tt[t]?n.length>1?{type:Tt[t],data:n.substring(1)}:{type:Tt[t]}:$i},io=(n,e)=>{if(so){const t=ro(n);return Mr(t,e)}else return{base64:!0,data:n}},Mr=(n,e)=>{switch(e){case"blob":return n instanceof ArrayBuffer?new Blob([n]):n;case"arraybuffer":default:return n}},Wr=String.fromCharCode(30),oo=(n,e)=>{const t=n.length,r=new Array(t);let s=0;n.forEach((i,o)=>{Ir(i,!1,c=>{r[o]=c,++s===t&&e(r.join(Wr))})})},ao=(n,e)=>{const t=n.split(Wr),r=[];for(let s=0;s<t.length;s++){const i=jr(t[s],e);if(r.push(i),i.type==="error")break}return r},qr=4;function H(n){if(n)return uo(n)}function uo(n){for(var e in H.prototype)n[e]=H.prototype[e];return n}H.prototype.on=H.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this},H.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this},H.prototype.off=H.prototype.removeListener=H.prototype.removeAllListeners=H.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,s=0;s<t.length;s++)if(r=t[s],r===e||r.fn===e){t.splice(s,1);break}return t.length===0&&delete this._callbacks["$"+n],this},H.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,s=t.length;r<s;++r)t[r].apply(this,e)}return this},H.prototype.emitReserved=H.prototype.emit,H.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},H.prototype.hasListeners=function(n){return!!this.listeners(n).length};const ae=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Hr(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}const co=ae.setTimeout,lo=ae.clearTimeout;function Ot(n,e){e.useNativeTimers?(n.setTimeoutFn=co.bind(ae),n.clearTimeoutFn=lo.bind(ae)):(n.setTimeoutFn=ae.setTimeout.bind(ae),n.clearTimeoutFn=ae.clearTimeout.bind(ae))}const fo=1.33;function ho(n){return typeof n=="string"?po(n):Math.ceil((n.byteLength||n.size)*fo)}function po(n){let e=0,t=0;for(let r=0,s=n.length;r<s;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}class vo extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class Yr extends H{constructor(e){super(),this.writable=!1,Ot(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new vo(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=jr(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}}const Jr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Rn=64,mo={};let zr=0,xt=0,Kr;function Gr(n){let e="";do e=Jr[n%Rn]+e,n=Math.floor(n/Rn);while(n>0);return e}function Xr(){const n=Gr(+new Date);return n!==Kr?(zr=0,Kr=n):n+"."+Gr(zr++)}for(;xt<Rn;xt++)mo[Jr[xt]]=xt;function Qr(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function yo(n){let e={},t=n.split("&");for(let r=0,s=t.length;r<s;r++){let i=t[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}let Zr=!1;try{Zr=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const go=Zr;function $r(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||go))return new XMLHttpRequest}catch{}if(!e)try{return new ae[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function _o(){}const bo=function(){return new $r({xdomain:!1}).responseType!=null}();class wo extends Yr{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port,this.xs=e.secure!==r}const t=e&&e.forceBase64;this.supportsBinary=bo&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};ao(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,oo(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let r="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=Xr()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(t==="https"&&Number(this.opts.port)!==443||t==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port);const s=Qr(e),i=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(s.length?"?"+s:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new me(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}}class me extends H{constructor(e,t){super(),Ot(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=t.async!==!1,this.data=t.data!==void 0?t.data:null,this.create()}create(){const e=Hr(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new $r(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{t.readyState===4&&(t.status===200||t.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof t.status=="number"?t.status:0)},0))},t.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=me.requestsCount++,me.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=_o,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete me.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(me.requestsCount=0,me.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",es);else if(typeof addEventListener=="function"){const n="onpagehide"in ae?"pagehide":"unload";addEventListener(n,es,!1)}}function es(){for(let n in me.requests)me.requests.hasOwnProperty(n)&&me.requests[n].abort()}const ts=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0))(),At=ae.WebSocket||ae.MozWebSocket,ns=!0,Eo="arraybuffer",rs=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class So extends Yr{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=rs?{}:Hr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=ns&&!rs?t?new At(e,t):new At(e):new At(e,t,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType||Eo,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],s=t===e.length-1;Ir(r,this.supportsBinary,i=>{const o={};try{ns&&this.ws.send(i)}catch{}s&&ts(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let r="";this.opts.port&&(t==="wss"&&Number(this.opts.port)!==443||t==="ws"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Xr()),this.supportsBinary||(e.b64=1);const s=Qr(e),i=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(s.length?"?"+s:"")}check(){return!!At}}const Ro={websocket:So,polling:wo},Co=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,To=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Cn(n){const e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let s=Co.exec(n||""),i={},o=14;for(;o--;)i[To[o]]=s[o]||"";return t!=-1&&r!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Oo(i,i.path),i.queryKey=xo(i,i.query),i}function Oo(n,e){const t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function xo(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(t[s]=i)}),t}class Ae extends H{constructor(e,t={}){super(),this.writeBuffer=[],e&&typeof e=="object"&&(t=e,e=null),e?(e=Cn(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Cn(t.host).host),Ot(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=yo(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=qr,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Ro[e](r)}open(){let e;if(this.opts.rememberUpgrade&&Ae.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){let t=this.createTransport(e),r=!1;Ae.priorWebsocketSuccess=!1;const s=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",l=>{if(!r)if(l.type==="pong"&&l.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Ae.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(h(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=t.name,this.emitReserved("upgradeError",m)}}))};function i(){r||(r=!0,h(),t.close(),t=null)}const o=l=>{const m=new Error("probe error: "+l);m.transport=t.name,i(),this.emitReserved("upgradeError",m)};function c(){o("transport closed")}function f(){o("socket closed")}function a(l){t&&l.name!==t.name&&i()}const h=()=>{t.removeListener("open",s),t.removeListener("error",o),t.removeListener("close",c),this.off("close",f),this.off("upgrading",a)};t.once("open",s),t.once("error",o),t.once("close",c),this.once("close",f),this.once("upgrading",a),t.open()}onOpen(){if(this.readyState="open",Ae.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(t+=ho(s)),r>0&&t>this.maxPayload)return this.writeBuffer.slice(0,r);t+=2}return this.writeBuffer}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,s){if(typeof t=="function"&&(s=t,t=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:e,data:t,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){Ae.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let r=0;const s=e.length;for(;r<s;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}Ae.protocol=qr;function Ao(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=Cn(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(t&&t.port===r.port?"":":"+r.port),r}const ko=typeof ArrayBuffer=="function",Do=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,ss=Object.prototype.toString,Lo=typeof Blob=="function"||typeof Blob<"u"&&ss.call(Blob)==="[object BlobConstructor]",No=typeof File=="function"||typeof File<"u"&&ss.call(File)==="[object FileConstructor]";function Tn(n){return ko&&(n instanceof ArrayBuffer||Do(n))||Lo&&n instanceof Blob||No&&n instanceof File}function kt(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(kt(n[t]))return!0;return!1}if(Tn(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return kt(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&kt(n[t]))return!0;return!1}function Fo(n){const e=[],t=n.data,r=n;return r.data=On(t,e),r.attachments=e.length,{packet:r,buffers:e}}function On(n,e){if(!n)return n;if(Tn(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){const t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=On(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){const t={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=On(n[r],e));return t}return n}function Po(n,e){return n.data=xn(n.data,e),delete n.attachments,n}function xn(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=xn(n[t],e);else if(typeof n=="object")for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=xn(n[t],e));return n}const Bo=5;var O;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(O||(O={}));class Io{constructor(e){this.replacer=e}encode(e){return(e.type===O.EVENT||e.type===O.ACK)&&kt(e)?this.encodeAsBinary({type:e.type===O.EVENT?O.BINARY_EVENT:O.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===O.BINARY_EVENT||e.type===O.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Fo(e),r=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(r),s}}class An extends H{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===O.BINARY_EVENT;r||t.type===O.BINARY_ACK?(t.type=r?O.EVENT:O.ACK,this.reconstructor=new Uo(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Tn(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(O[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===O.BINARY_EVENT||r.type===O.BINARY_ACK){const i=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const o=e.substring(i,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(t+1)==="/"){const i=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(i,t)}else r.nsp="/";const s=e.charAt(t+1);if(s!==""&&Number(s)==s){const i=t+1;for(;++t;){const o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}r.id=Number(e.substring(i,t+1))}if(e.charAt(++t)){const i=this.tryParse(e.substr(t));if(An.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case O.CONNECT:return typeof t=="object";case O.DISCONNECT:return t===void 0;case O.CONNECT_ERROR:return typeof t=="string"||typeof t=="object";case O.EVENT:case O.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="string"||typeof t[0]=="number");case O.ACK:case O.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Uo{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=Po(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Vo=Object.freeze(Object.defineProperty({__proto__:null,protocol:Bo,get PacketType(){return O},Encoder:Io,Decoder:An},Symbol.toStringTag,{value:"Module"}));function fe(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const jo=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class is extends H{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[fe(e,"open",this.onopen.bind(this)),fe(e,"packet",this.onpacket.bind(this)),fe(e,"error",this.onerror.bind(this)),fe(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(jo.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const r={type:O.EVENT,data:t};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const o=this.ids++,c=t.pop();this._registerAckCallback(o,c),r.id=o}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,t){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[e]=t;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);t.call(this,new Error("operation has timed out"))},s);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(i),t.apply(this,[null,...o])}}emitWithAck(e,...t){const r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((s,i)=>{t.push((o,c)=>r?o?i(o):s(c):s(o)),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(s)):(this._queue.shift(),t&&t(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:O.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case O.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case O.EVENT:case O.BINARY_EVENT:this.onevent(e);break;case O.ACK:case O.BINARY_ACK:this.onack(e);break;case O.DISCONNECT:this.ondisconnect();break;case O.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(...s){r||(r=!0,t.packet({type:O.ACK,id:e,data:s}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:O.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function Ve(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}Ve.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-t:n+t}return Math.min(n,this.max)|0},Ve.prototype.reset=function(){this.attempts=0},Ve.prototype.setMin=function(n){this.ms=n},Ve.prototype.setMax=function(n){this.max=n},Ve.prototype.setJitter=function(n){this.jitter=n};class kn extends H{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Ot(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Ve({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const s=t.parser||Vo;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Ae(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=fe(t,"open",function(){r.onopen(),e&&e()}),i=fe(t,"error",o=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",o),e?e(o):r.maybeReconnectOnOpen()});if(this._timeout!==!1){const o=this._timeout;o===0&&s();const c=this.setTimeoutFn(()=>{s(),t.close(),t.emit("error",new Error("timeout"))},o);this.opts.autoUnref&&c.unref(),this.subs.push(function(){clearTimeout(c)})}return this.subs.push(s),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(fe(e,"ping",this.onping.bind(this)),fe(e,"data",this.ondata.bind(this)),fe(e,"error",this.onerror.bind(this)),fe(e,"close",this.onclose.bind(this)),fe(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){ts(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new is(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const rt={};function Dt(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const t=Ao(n,e.path||"/socket.io"),r=t.source,s=t.id,i=t.path,o=rt[s]&&i in rt[s].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let f;return c?f=new kn(r,e):(rt[s]||(rt[s]=new kn(r,e)),f=rt[s]),t.query&&!e.query&&(e.query=t.queryKey),f.socket(t.path,e)}Object.assign(Dt,{Manager:kn,Socket:is,io:Dt,connect:Dt});class Mo{constructor(e,t){Ne(this,"socket_port");Ne(this,"host");Ne(this,"port");Ne(this,"protocol");Ne(this,"url");Ne(this,"socket");this.socket_port=t!=null?t:"9000",this.host=window.location.hostname,this.port=window.location.port?`:${this.socket_port}`:"",this.protocol=this.port?"http":"https",this.url=e||`${this.protocol}://${this.host}${this.port}`,this.socket=Dt(this.url,{withCredentials:!0})}}var os={exports:{}},st={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var as;function Wo(){if(as)return st;as=1;var n=Pe.default,e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(c,f,a){var h,l={},m=null,v=null;a!==void 0&&(m=""+a),f.key!==void 0&&(m=""+f.key),f.ref!==void 0&&(v=f.ref);for(h in f)r.call(f,h)&&!i.hasOwnProperty(h)&&(l[h]=f[h]);if(c&&c.defaultProps)for(h in f=c.defaultProps,f)l[h]===void 0&&(l[h]=f[h]);return{$$typeof:e,type:c,key:m,ref:v,props:l,_owner:s.current}}return st.Fragment=t,st.jsx=o,st.jsxs=o,st}var it={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var us;function qo(){return us||(us=1,process.env.NODE_ENV!=="production"&&function(){var n=Pe.default,e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),l=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),w=Symbol.iterator,E="@@iterator";function _(u){if(u===null||typeof u!="object")return null;var p=w&&u[w]||u[E];return typeof p=="function"?p:null}var N=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function R(u){{for(var p=arguments.length,g=new Array(p>1?p-1:0),b=1;b<p;b++)g[b-1]=arguments[b];D("error",u,g)}}function D(u,p,g){{var b=N.ReactDebugCurrentFrame,k=b.getStackAddendum();k!==""&&(p+="%s",g=g.concat([k]));var P=g.map(function(x){return String(x)});P.unshift("Warning: "+p),Function.prototype.apply.call(console[u],console,P)}}var y=!1,W=!1,S=!1,C=!1,Q=!1,F;F=Symbol.for("react.module.reference");function I(u){return!!(typeof u=="string"||typeof u=="function"||u===r||u===i||Q||u===s||u===a||u===h||C||u===v||y||W||S||typeof u=="object"&&u!==null&&(u.$$typeof===m||u.$$typeof===l||u.$$typeof===o||u.$$typeof===c||u.$$typeof===f||u.$$typeof===F||u.getModuleId!==void 0))}function re(u,p,g){var b=u.displayName;if(b)return b;var k=p.displayName||p.name||"";return k!==""?g+"("+k+")":g}function Z(u){return u.displayName||"Context"}function V(u){if(u==null)return null;if(typeof u.tag=="number"&&R("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case r:return"Fragment";case t:return"Portal";case i:return"Profiler";case s:return"StrictMode";case a:return"Suspense";case h:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case c:var p=u;return Z(p)+".Consumer";case o:var g=u;return Z(g._context)+".Provider";case f:return re(u,u.render,"ForwardRef");case l:var b=u.displayName||null;return b!==null?b:V(u.type)||"Memo";case m:{var k=u,P=k._payload,x=k._init;try{return V(x(P))}catch{return null}}}return null}var $=Object.assign,ue=0,ot,_e,at,Nt,be,we,Le;function ut(){}ut.__reactDisabledLog=!0;function ct(){{if(ue===0){ot=console.log,_e=console.info,at=console.warn,Nt=console.error,be=console.group,we=console.groupCollapsed,Le=console.groupEnd;var u={configurable:!0,enumerable:!0,value:ut,writable:!0};Object.defineProperties(console,{info:u,log:u,warn:u,error:u,group:u,groupCollapsed:u,groupEnd:u})}ue++}}function Ft(){{if(ue--,ue===0){var u={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:$({},u,{value:ot}),info:$({},u,{value:_e}),warn:$({},u,{value:at}),error:$({},u,{value:Nt}),group:$({},u,{value:be}),groupCollapsed:$({},u,{value:we}),groupEnd:$({},u,{value:Le})})}ue<0&&R("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var je=N.ReactCurrentDispatcher,lt;function Me(u,p,g){{if(lt===void 0)try{throw Error()}catch(k){var b=k.stack.trim().match(/\n( *(at )?)/);lt=b&&b[1]||""}return`
`+lt+u}}var Ee=!1,We;{var U=typeof WeakMap=="function"?WeakMap:Map;We=new U}function M(u,p){if(!u||Ee)return"";{var g=We.get(u);if(g!==void 0)return g}var b;Ee=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var P;P=je.current,je.current=null,ct();try{if(p){var x=function(){throw Error()};if(Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(Re){b=Re}Reflect.construct(u,[],x)}else{try{x.call()}catch(Re){b=Re}u.call(x.prototype)}}else{try{throw Error()}catch(Re){b=Re}u()}}catch(Re){if(Re&&b&&typeof Re.stack=="string"){for(var T=Re.stack.split(`
`),te=b.stack.split(`
`),q=T.length-1,J=te.length-1;q>=1&&J>=0&&T[q]!==te[J];)J--;for(;q>=1&&J>=0;q--,J--)if(T[q]!==te[J]){if(q!==1||J!==1)do if(q--,J--,J<0||T[q]!==te[J]){var ce=`
`+T[q].replace(" at new "," at ");return u.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",u.displayName)),typeof u=="function"&&We.set(u,ce),ce}while(q>=1&&J>=0);break}}}finally{Ee=!1,je.current=P,Ft(),Error.prepareStackTrace=k}var Je=u?u.displayName||u.name:"",bs=Je?Me(Je):"";return typeof u=="function"&&We.set(u,bs),bs}function z(u,p,g){return M(u,!1)}function j(u){var p=u.prototype;return!!(p&&p.isReactComponent)}function ee(u,p,g){if(u==null)return"";if(typeof u=="function")return M(u,j(u));if(typeof u=="string")return Me(u);switch(u){case a:return Me("Suspense");case h:return Me("SuspenseList")}if(typeof u=="object")switch(u.$$typeof){case f:return z(u.render);case l:return ee(u.type,p,g);case m:{var b=u,k=b._payload,P=b._init;try{return ee(P(k),p,g)}catch{}}}return""}var he=Object.prototype.hasOwnProperty,Y={},K=N.ReactDebugCurrentFrame;function se(u){if(u){var p=u._owner,g=ee(u.type,u._source,p?p.type:null);K.setExtraStackFrame(g)}else K.setExtraStackFrame(null)}function Pt(u,p,g,b,k){{var P=Function.call.bind(he);for(var x in u)if(P(u,x)){var T=void 0;try{if(typeof u[x]!="function"){var te=Error((b||"React class")+": "+g+" type `"+x+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof u[x]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw te.name="Invariant Violation",te}T=u[x](p,x,b,g,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(q){T=q}T&&!(T instanceof Error)&&(se(k),R("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",b||"React class",g,x,typeof T),se(null)),T instanceof Error&&!(T.message in Y)&&(Y[T.message]=!0,se(k),R("Failed %s type: %s",g,T.message),se(null))}}}var Bt=Array.isArray;function qe(u){return Bt(u)}function ie(u){{var p=typeof Symbol=="function"&&Symbol.toStringTag,g=p&&u[Symbol.toStringTag]||u.constructor.name||"Object";return g}}function de(u){try{return He(u),!1}catch{return!0}}function He(u){return""+u}function It(u){if(de(u))return R("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ie(u)),He(u)}var Se=N.ReactCurrentOwner,aa={key:!0,ref:!0,__self:!0,__source:!0},hs,ds,Dn;Dn={};function ua(u){if(he.call(u,"ref")){var p=Object.getOwnPropertyDescriptor(u,"ref").get;if(p&&p.isReactWarning)return!1}return u.ref!==void 0}function ca(u){if(he.call(u,"key")){var p=Object.getOwnPropertyDescriptor(u,"key").get;if(p&&p.isReactWarning)return!1}return u.key!==void 0}function la(u,p){if(typeof u.ref=="string"&&Se.current&&p&&Se.current.stateNode!==p){var g=V(Se.current.type);Dn[g]||(R('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',V(Se.current.type),u.ref),Dn[g]=!0)}}function fa(u,p){{var g=function(){hs||(hs=!0,R("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",p))};g.isReactWarning=!0,Object.defineProperty(u,"key",{get:g,configurable:!0})}}function ha(u,p){{var g=function(){ds||(ds=!0,R("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",p))};g.isReactWarning=!0,Object.defineProperty(u,"ref",{get:g,configurable:!0})}}var da=function(u,p,g,b,k,P,x){var T={$$typeof:e,type:u,key:p,ref:g,props:x,_owner:P};return T._store={},Object.defineProperty(T._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(T,"_self",{configurable:!1,enumerable:!1,writable:!1,value:b}),Object.defineProperty(T,"_source",{configurable:!1,enumerable:!1,writable:!1,value:k}),Object.freeze&&(Object.freeze(T.props),Object.freeze(T)),T};function pa(u,p,g,b,k){{var P,x={},T=null,te=null;g!==void 0&&(It(g),T=""+g),ca(p)&&(It(p.key),T=""+p.key),ua(p)&&(te=p.ref,la(p,k));for(P in p)he.call(p,P)&&!aa.hasOwnProperty(P)&&(x[P]=p[P]);if(u&&u.defaultProps){var q=u.defaultProps;for(P in q)x[P]===void 0&&(x[P]=q[P])}if(T||te){var J=typeof u=="function"?u.displayName||u.name||"Unknown":u;T&&fa(x,J),te&&ha(x,J)}return da(u,T,te,k,b,Se.current,x)}}var Ln=N.ReactCurrentOwner,ps=N.ReactDebugCurrentFrame;function Ye(u){if(u){var p=u._owner,g=ee(u.type,u._source,p?p.type:null);ps.setExtraStackFrame(g)}else ps.setExtraStackFrame(null)}var Nn;Nn=!1;function Fn(u){return typeof u=="object"&&u!==null&&u.$$typeof===e}function vs(){{if(Ln.current){var u=V(Ln.current.type);if(u)return`

Check the render method of \``+u+"`."}return""}}function va(u){{if(u!==void 0){var p=u.fileName.replace(/^.*[\\\/]/,""),g=u.lineNumber;return`

Check your code at `+p+":"+g+"."}return""}}var ms={};function ma(u){{var p=vs();if(!p){var g=typeof u=="string"?u:u.displayName||u.name;g&&(p=`

Check the top-level render call using <`+g+">.")}return p}}function ys(u,p){{if(!u._store||u._store.validated||u.key!=null)return;u._store.validated=!0;var g=ma(p);if(ms[g])return;ms[g]=!0;var b="";u&&u._owner&&u._owner!==Ln.current&&(b=" It was passed a child from "+V(u._owner.type)+"."),Ye(u),R('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',g,b),Ye(null)}}function gs(u,p){{if(typeof u!="object")return;if(qe(u))for(var g=0;g<u.length;g++){var b=u[g];Fn(b)&&ys(b,p)}else if(Fn(u))u._store&&(u._store.validated=!0);else if(u){var k=_(u);if(typeof k=="function"&&k!==u.entries)for(var P=k.call(u),x;!(x=P.next()).done;)Fn(x.value)&&ys(x.value,p)}}}function ya(u){{var p=u.type;if(p==null||typeof p=="string")return;var g;if(typeof p=="function")g=p.propTypes;else if(typeof p=="object"&&(p.$$typeof===f||p.$$typeof===l))g=p.propTypes;else return;if(g){var b=V(p);Pt(g,u.props,"prop",b,u)}else if(p.PropTypes!==void 0&&!Nn){Nn=!0;var k=V(p);R("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",k||"Unknown")}typeof p.getDefaultProps=="function"&&!p.getDefaultProps.isReactClassApproved&&R("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function ga(u){{for(var p=Object.keys(u.props),g=0;g<p.length;g++){var b=p[g];if(b!=="children"&&b!=="key"){Ye(u),R("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",b),Ye(null);break}}u.ref!==null&&(Ye(u),R("Invalid attribute `ref` supplied to `React.Fragment`."),Ye(null))}}function _s(u,p,g,b,k,P){{var x=I(u);if(!x){var T="";(u===void 0||typeof u=="object"&&u!==null&&Object.keys(u).length===0)&&(T+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var te=va(k);te?T+=te:T+=vs();var q;u===null?q="null":qe(u)?q="array":u!==void 0&&u.$$typeof===e?(q="<"+(V(u.type)||"Unknown")+" />",T=" Did you accidentally export a JSX literal instead of a component?"):q=typeof u,R("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",q,T)}var J=pa(u,p,g,k,P);if(J==null)return J;if(x){var ce=p.children;if(ce!==void 0)if(b)if(qe(ce)){for(var Je=0;Je<ce.length;Je++)gs(ce[Je],u);Object.freeze&&Object.freeze(ce)}else R("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else gs(ce,u)}return u===r?ga(J):ya(J),J}}function _a(u,p,g){return _s(u,p,g,!0)}function ba(u,p,g){return _s(u,p,g,!1)}var wa=ba,Ea=_a;it.Fragment=r,it.jsx=wa,it.jsxs=Ea}()),it}(function(n){process.env.NODE_ENV==="production"?n.exports=Wo():n.exports=qo()})(os);const Ho=os.exports.jsx,X=d.createContext(null),Yo=({url:n="",tokenParams:e,socketPort:t,children:r})=>{const s=d.useMemo(()=>{const i=new Ci.FrappeApp(n,e);return{url:n,tokenParams:e,app:i,auth:i.auth(),db:i.db(),call:i.call(),file:i.file(),socket:new Mo(n,t).socket}},[n,e,t]);return Ho(X.Provider,{value:s,children:r})},Jo=n=>{const{url:e,auth:t,tokenParams:r}=d.useContext(X),[s,i]=d.useState(),o=d.useCallback(()=>{const w=document.cookie.split(";").find(E=>E.trim().startsWith("user_id="));if(w){const E=w.split("=")[1];i(E&&E!=="Guest"?E:null)}else i(null)},[]);d.useEffect(()=>{r&&r.useToken?i(null):o()},[]);const{data:c,error:f,isLoading:a,isValidating:h,mutate:l}=tt(()=>r&&r.useToken||s?`${e}/api/method/frappe.auth.get_logged_user`:null,()=>t.getLoggedInUser(),{onError:()=>{i(null)},shouldRetryOnError:!1,revalidateOnFocus:!1,...n}),m=d.useCallback(async(w,E)=>t.loginWithUsernamePassword({username:w,password:E}).then(_=>{o()}),[]),v=d.useCallback(async()=>t.logout().then(()=>l(null)).then(()=>i(null)),[]);return{isLoading:s===void 0||a,currentUser:c,isValidating:h,error:f,login:m,logout:v,updateCurrentUser:l,getUserCookie:o}},zo=(n,e,t,r)=>{const{url:s,db:i}=d.useContext(X);return{...tt(t===void 0?`${s}/api/resource/${n}/${e}`:t,()=>i.getDoc(n,e),r)}},cs=n=>{var t,r,s;let e="";if(n!=null&&n.fields&&(e+="fields="+JSON.stringify(n==null?void 0:n.fields)+"&"),n!=null&&n.filters&&(e+="filters="+JSON.stringify(n==null?void 0:n.filters)+"&"),n!=null&&n.orFilters&&(e+="or_filters="+JSON.stringify(n==null?void 0:n.orFilters)+"&"),n!=null&&n.limit_start&&(e+="limit_start="+JSON.stringify(n==null?void 0:n.limit_start)+"&"),n!=null&&n.limit&&(e+="limit="+JSON.stringify(n==null?void 0:n.limit)+"&"),n!=null&&n.groupBy&&(e+="group_by="+n.groupBy+"&"),n!=null&&n.orderBy){const i=`${(t=n.orderBy)==null?void 0:t.field} ${(s=(r=n.orderBy)==null?void 0:r.order)!=null?s:"asc"}`;e+="order_by="+i+"&"}return n!=null&&n.asDict&&(e+="as_dict="+n.asDict),e},Ko=(n,e,t,r)=>{const{url:s,db:i}=d.useContext(X);return{...tt(t===void 0?`${s}/api/resource/${n}?${cs(e)}`:t,()=>i.getDocList(n,e),r)}},Go=()=>{const{db:n}=d.useContext(X),[e,t]=d.useState(!1),[r,s]=d.useState(null),[i,o]=d.useState(!1),c=d.useCallback(()=>{t(!1),s(null),o(!1)},[]);return{createDoc:d.useCallback(async(a,h)=>(s(null),o(!1),t(!0),n.createDoc(a,h).then(l=>(t(!1),o(!0),l)).catch(l=>{throw t(!1),o(!1),s(l),l})),[]),loading:e,error:r,isCompleted:i,reset:c}},Xo=()=>{const{db:n}=d.useContext(X),[e,t]=d.useState(!1),[r,s]=d.useState(null),[i,o]=d.useState(!1),c=d.useCallback(()=>{t(!1),s(null),o(!1)},[]);return{updateDoc:d.useCallback(async(a,h,l)=>(s(null),o(!1),t(!0),n.updateDoc(a,h,l).then(m=>(t(!1),o(!0),m)).catch(m=>{throw t(!1),o(!1),s(m),m})),[]),loading:e,error:r,reset:c,isCompleted:i}},Qo=()=>{const{db:n}=d.useContext(X),[e,t]=d.useState(!1),[r,s]=d.useState(null),[i,o]=d.useState(!1),c=d.useCallback(()=>{t(!1),s(null),o(!1)},[]);return{deleteDoc:d.useCallback(async(a,h)=>(s(null),o(!1),t(!0),n.deleteDoc(a,h).then(l=>(t(!1),o(!0),l)).catch(l=>{throw t(!1),o(!1),s(l),l})),[]),loading:e,error:r,reset:c,isCompleted:i}};function ls(n){const e=[];for(let t in n)e.push(encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e.join("&")}const Zo=(n,e,t=!1,r=!1,s,i)=>{const{url:o,db:c}=d.useContext(X);return{...tt(s===void 0?(()=>{const h=ls(t?{doctype:n,filters:e!=null?e:[],cache:t,debug:r}:{doctype:n,filters:e!=null?e:[],debug:r});return`${o}/api/method/frappe.client.get_count?${h}`})():s,()=>c.getCount(n,e,t,r),i)}},fs=(n,e,t,r)=>{const{call:s}=d.useContext(X),i=ls(e!=null?e:{}),o=`${n}?${i}`;return{...tt(t===void 0?o:t,()=>s.get(n,e),r)}},$o=n=>{const{call:e}=d.useContext(X),[t,r]=d.useState(null),[s,i]=d.useState(!1),[o,c]=d.useState(null),[f,a]=d.useState(!1),h=d.useCallback(()=>{r(null),i(!1),c(null),a(!1)},[]);return{call:d.useCallback(async m=>(c(null),a(!1),i(!0),r(null),e.post(n,m).then(v=>(r(v),i(!1),a(!0),v)).catch(v=>{throw i(!1),a(!1),c(v),v})),[]),result:t,loading:s,error:o,reset:h,isCompleted:f}},ea=n=>{const{call:e}=d.useContext(X),[t,r]=d.useState(null),[s,i]=d.useState(!1),[o,c]=d.useState(null),[f,a]=d.useState(!1),h=d.useCallback(()=>{r(null),i(!1),c(null),a(!1)},[]);return{call:d.useCallback(async m=>(c(null),a(!1),i(!0),r(null),e.put(n,m).then(v=>(r(v),i(!1),a(!0),v)).catch(v=>{throw i(!1),a(!1),c(v),v})),[]),result:t,loading:s,error:o,reset:h,isCompleted:f}},ta=n=>{const{call:e}=d.useContext(X),[t,r]=d.useState(null),[s,i]=d.useState(!1),[o,c]=d.useState(null),[f,a]=d.useState(!1),h=d.useCallback(()=>{r(null),i(!1),c(null),a(!1)},[]);return{call:d.useCallback(async m=>(c(null),a(!1),i(!0),r(null),e.delete(n,m).then(v=>(r(v),i(!1),a(!0),v)).catch(v=>{throw i(!1),a(!1),c(v),v})),[]),result:t,loading:s,error:o,reset:h,isCompleted:f}},na=()=>{const{file:n}=d.useContext(X),[e,t]=d.useState(0),[r,s]=d.useState(!1),[i,o]=d.useState(null),[c,f]=d.useState(!1),a=d.useCallback(async(l,m)=>(h(),s(!0),n.uploadFile(l,m,(v,w)=>t(Math.round(v/w*100))).then(v=>(f(!0),t(100),s(!1),v.data.message)).catch(v=>{throw console.error(v),o(v),s(!1),v})),[]),h=d.useCallback(()=>{t(0),s(!1),o(null),f(!1)},[]);return{upload:a,progress:e,loading:r,isCompleted:c,error:i,reset:h}},ra=(n,e,t=[],r=20,s=250)=>{const i=sa(e,s);return fs("frappe.desk.search.search_link",{doctype:n,page_length:r,txt:i,filters:JSON.stringify(t!=null?t:[])})},sa=(n,e)=>{const[t,r]=d.useState(n);return d.useEffect(()=>{const s=setTimeout(()=>{r(n)},e);return()=>{clearTimeout(s)}},[n,e]),t},Lt=(n,e)=>{const{socket:t}=d.useContext(X);d.useEffect(()=>{let r=t.on(n,e);return()=>{r.off(n)}},[n,e])},ia=(n,e,t=!0,r)=>{const{socket:s}=d.useContext(X),[i,o]=d.useState([]);d.useEffect(()=>(s.emit("doc_subscribe",n,e),t&&s.emit("doc_open",n,e),()=>{s.emit("doc_unsubscribe",n,e),t&&s.emit("doc_close",n,e)}),[n,e,t]),Lt("doc_update",r);const c=d.useCallback(()=>{s.emit("doc_open",n,e)},[n,e]),f=d.useCallback(()=>{s.emit("doc_close",n,e)},[n,e]),a=d.useCallback(h=>{h.doctype===n&&h.docname===e&&o(h.users)},[n,e]);return Lt("doc_viewers",a),{viewers:i,emitDocOpen:c,emitDocClose:f}},oa=(n,e)=>{const{socket:t}=d.useContext(X);d.useEffect(()=>(t.emit("doctype_subscribe",n),()=>{t.emit("doctype_unsubscribe",n)}),[n]),Lt("list_update",e)};A.FrappeContext=X,A.FrappeProvider=Yo,A.getDocListQueryString=cs,A.useFrappeAuth=Jo,A.useFrappeCreateDoc=Go,A.useFrappeDeleteCall=ta,A.useFrappeDeleteDoc=Qo,A.useFrappeDocTypeEventListener=oa,A.useFrappeDocumentEventListener=ia,A.useFrappeEventListener=Lt,A.useFrappeFileUpload=na,A.useFrappeGetCall=fs,A.useFrappeGetDoc=zo,A.useFrappeGetDocCount=Zo,A.useFrappeGetDocList=Ko,A.useFrappePostCall=$o,A.useFrappePutCall=ea,A.useFrappeUpdateDoc=Xo,A.useSearch=ra,Object.defineProperties(A,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
